# useEffect 순서

fireBase 로그를 보내는 로직을 짜던 중에 순서를 지켜서 보내야 하는게 있었다. 순서를 보기 위해서 콘솔로그를 찍으면서 확인하고 있었는데 생각과는 다른 결과가 나와서 정리해 두려고 한다.

컴포넌트 구조가 <MontlyReport /> 안에  <Devices/> 안에 <SelectMonth/> 의 구조에서

각 컴포넌트 마다 useEffect(()⇒{ console.log(”컴포넌트이름”)},[]) 를 찍어보았다.

```jsx
useEffect(()=>{
	console.log("컴포넌트 이름")
},[])
```

당연히 “MontlyReport” > “Devices” > “SelectMonth” 가 찍힐 줄 알았지만, 반대로

“SelectMonth” > “Devices” > “MontlyReport” 가 찍혔다.

자식 컴포넌트가 먼저 마운트가 되어야 부모도 마운트가 되기 때문에 제일 자식이 먼저 찍히는 거였음. 

로그 보내는 순서가 있기 때문에 가장 자식 컴포넌트에서 차례대로 파이어베이스함수를 호출하거나 컴포넌트 위치에 맞게 파이어베이스 함수를 실행해야할 것 같다.

기초적인 부분이지만 자세히는 알지 못했다. 그냥 마운트 될 때 실행, 언마운트 될 때 실행정도만 알고 있었는데 하위 컴포넌트들과의 관계에 따른 동작 방식에 대해서도 공부가 필요한 것 같다.